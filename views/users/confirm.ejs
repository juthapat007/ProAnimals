<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ยืนยันการจอง | ไชยปราการสัตวแพทย์</title>
    <%- include('../partials/link') %>
</head>
<style>
    
/* Tablet ขึ้นไป */
@media (min-width: 640px) {
  .info-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Desktop ขึ้นไป */
@media (min-width: 1024px) {
  .info-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

.info-item {
  display: flex;
  justify-content: space-between;
  margin: 8px 0;
}

.info-label {
  font-weight: 600;
  color: #444;
}

.info-value {
  color: #555;
  text-align: right;
}
</style>
<body>
    <div class="container">
    <%- include('../partials/header') %>
<%- include('../partials/numberBar', { step: 3 }) %>

        <div class="booking-container">
            <center>
            <div class="booking-header">
                <strong class="text-2xl text-primary2"><i class="fas fa-calendar-check"></i> ข้อมูลการจอง</strong>
                <p>กรุณาตรวจสอบข้อมูลให้ถูกต้องก่อนยืนยันการจอง</p>
            </div></center><br>

            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
  <!-- ข้อมูลสัตว์เลี้ยง -->
  <div class="info-card hover:-translate-y-1 hover:shadow-lg transition">
    <div class="flex items-center gap-2 mb-3 pb-2 border-b border-border-color">
      <i class="fas fa-paw text-primary2 text-xl"></i>
      <strong class="text-primary2 text-xl">ข้อมูลสัตว์เลี้ยง</strong>
    </div>
    <div class="space-y-2">
      <div class="info-item">
        <div class="info-label">ชื่อสัตว์เลี้ยง</div>
        <div class="info-value"><%= petInfo.pet_name %></div>
      </div>
      <div class="info-item">
        <div class="info-label">เพศ</div>
        <div class="info-value"><%= petInfo.pet_gender %></div>
      </div>
      <div class="info-item">
        <div class="info-label">ประเภท</div>
        <div class="info-value"><%= petInfo.pet_type_name %></div>
      </div>
    </div>
  </div>

  <!-- ข้อมูลเจ้าของ -->
  <div class="info-card hover:-translate-y-1 hover:shadow-lg transition">
    <div class="flex items-center gap-2 mb-3 pb-2 border-b border-border-color">
      <i class="fas fa-user text-primary2 text-xl"></i>
      <strong class="text-primary2 text-xl">ข้อมูลเจ้าของ</strong>
    </div>
    <div class="space-y-2">
      <div class="info-item">
        <div class="info-label">ชื่อ-นามสกุล</div>
        <div class="info-value"><%= petInfo.cus_name %></div>
      </div>
      <div class="info-item">
        <div class="info-label">เบอร์โทรศัพท์</div>
        <div class="info-value"><%= petInfo.cus_phon %></div>
      </div>
      <div class="info-item">
        <div class="info-label">อีเมล</div>
        <div class="info-value"><%= petInfo.cus_email %></div>
      </div>
    </div>
  </div>

  <!-- รายละเอียดการจอง -->
  <div class="info-card hover:-translate-y-1 hover:shadow-lg transition">
    <div class="flex items-center gap-2 mb-3 pb-2 border-b border-border-color">
      <i class="fas fa-calendar-alt text-primary2 text-xl"></i>
      <strong class="text-primary2 text-xl">รายละเอียดการจอง</strong>
    </div>
    <div class="space-y-2">
      <div class="info-item">
        <div class="info-label">บริการ</div>
        <div class="info-value"><%= serviceInfo.service_type %></div>
      </div>
      <div class="info-item">
        <div class="info-label">วันที่</div>
        <div class="info-value"><%= formattedDate %></div>
      </div>
      <div class="info-item">
        <div class="info-label">เวลา</div>
<div class="info-value"><%= time %></div>

      </div>
      <div class="info-item">
        <div class="info-label">ค่าบริการ</div>
        <div class="info-value"><%= Number(serviceInfo.service_price).toLocaleString('th-TH', { minimumFractionDigits: 2 }) %> บาท</div>
      </div>
    </div>
  </div>
</div>
            <div class="warning-box">
                <i class="fas fa-exclamation-triangle"></i>
                <div>
                    <strong>กรุณาตรวจสอบข้อมูลให้ถูกต้อง</strong>
                    <p>หลังจากยืนยันการจองแล้ว จะไม่สามารถแก้ไขได้</p>
                </div>
            </div>

            <form action="/users/confirm/submit" method="POST">
  <input type="hidden" name="cus_id" value="<%= cus_id %>">
  <input type="hidden" name="pet_id" value="<%= pet_id %>">
  <input type="hidden" name="service_id" value="<%= service_id %>">
  <input type="hidden" name="date" value="<%= date %>">
  <input type="hidden" name="time" value="<%= time %>">


      <button type="submit" class="btn btn-primary w-full border-spacing-2" style=" height: 60px;">
          <i class="fas fa-check-circle"></i> ยืนยันการจอง
      </button><div style="padding-bottom: 10px;"></div>
            <button type="button" style="height: 60px;" class="btn btn-cancel w-full" onclick="history.back()">
          <i class="fas fa-arrow-left"></i> ย้อนกลับ
      </button>

</form>

        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const hamburger = document.querySelector(".hamburger");
            const dropdown = document.querySelector(".dropdown");
            
            hamburger.addEventListener("click", function(e) {
                e.stopPropagation();
                dropdown.classList.toggle("show");
            });
            
            document.addEventListener('click', function() {
                dropdown.classList.remove("show");
            });
            
            document.getElementById('confirmForm').addEventListener('submit', function(e) {
                const btn = this.querySelector('button[type="submit"]');
                btn.disabled = true;
                btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> กำลังดำเนินการ...';
            });
        });
    </script>
</body>
</html>
